{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  // Initialize Lucide icons\n  lucide.createIcons();\n\n  // Mobile Menu Logic\n  const burger = document.getElementById('burger');\n  const nav = document.getElementById('nav');\n  const navLinks = document.querySelectorAll('.nav__link');\n\n  const toggleMenu = () => {\n      burger.classList.toggle('active');\n      nav.classList.toggle('active');\n      document.body.style.overflow = nav.classList.contains('active') ? 'hidden' : '';\n  };\n\n  burger.addEventListener('click', toggleMenu);\n\n  navLinks.forEach(link => {\n      link.addEventListener('click', () => {\n          if (nav.classList.contains('active')) {\n              toggleMenu();\n          }\n      });\n  });\n\n  // Sticky Header Effect\n  const header = document.querySelector('.header');\n  window.addEventListener('scroll', () => {\n      if (window.scrollY > 50) {\n          header.style.padding = '10px 0';\n          header.style.boxShadow = '0 10px 30px rgba(0,0,0,0.08)';\n      } else {\n          header.style.padding = '0';\n          header.style.boxShadow = 'none';\n      }\n  });\n  // Аналог GSAP ScrollTrigger на чистом JS\nconst observeElements = () => {\n  const observerOptions = {\n      threshold: 0.1\n  };\n\n  const observer = new IntersectionObserver((entries) => {\n      entries.forEach(entry => {\n          if (entry.isIntersecting) {\n              entry.target.classList.add('active');\n          }\n      });\n  }, observerOptions);\n\n  document.querySelectorAll('.reveal').forEach(el => {\n      observer.observe(el);\n  });\n};\n\n// Запуск после загрузки\nwindow.addEventListener('load', () => {\n  observeElements();\n\n  // Дополнительный микро-интерактив: движение за мышью\n  const hero = document.querySelector('.hero');\n  if (hero) {\n      hero.addEventListener('mousemove', (e) => {\n          const moveX = (e.clientX - window.innerWidth / 2) * 0.01;\n          const moveY = (e.clientY - window.innerHeight / 2) * 0.01;\n          document.querySelector('.hero__circle--1').style.transform = `translate(${moveX}px, ${moveY}px)`;\n          document.querySelector('.hero__circle--2').style.transform = `translate(${-moveX}px, ${-moveY}px)`;\n      });\n  }\n});\n// --- FORM LOGIC ---\nconst mainForm = document.getElementById('mainForm');\nconst formSuccess = document.getElementById('formSuccess');\nconst phoneInput = document.getElementById('phone');\nconst captchaQuestion = document.getElementById('captcha-question');\nconst captchaAnswerInput = document.getElementById('captcha-answer');\n\nlet correctCaptchaAnswer;\n\n// 1. Генерация капчи\nconst generateCaptcha = () => {\n    const num1 = Math.floor(Math.random() * 10) + 1;\n    const num2 = Math.floor(Math.random() * 10) + 1;\n    correctCaptchaAnswer = num1 + num2;\n    captchaQuestion.textContent = `${num1} + ${num2}`;\n};\n\n// 2. Валидация телефона (только цифры)\nphoneInput.addEventListener('input', (e) => {\n    e.target.value = e.target.value.replace(/[^0-9+]/g, '');\n});\n\n// 3. Обработка отправки\nmainForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    // Проверка капчи\n    if (parseInt(captchaAnswerInput.value) !== correctCaptchaAnswer) {\n        alert('Неверный ответ на проверочный вопрос. Попробуйте снова.');\n        generateCaptcha();\n        captchaAnswerInput.value = '';\n        return;\n    }\n\n    // Имитация отправки\n    mainForm.classList.add('loading');\n\n    setTimeout(() => {\n        mainForm.classList.remove('loading');\n        mainForm.style.display = 'none';\n        formSuccess.classList.add('active');\n        lucide.createIcons(); // Обновляем иконку галочки в сообщении\n    }, 1500);\n});\n\n// 4. Сброс формы\nwindow.resetForm = () => {\n    mainForm.reset();\n    mainForm.style.display = 'flex';\n    formSuccess.classList.remove('active');\n    generateCaptcha();\n};\n\n// Инициализация капчи при загрузке\ngenerateCaptcha();\n// --- COOKIE POPUP LOGIC ---\nconst cookiePopup = document.getElementById('cookiePopup');\nconst acceptCookiesBtn = document.getElementById('acceptCookies');\n\nconst initCookies = () => {\n    const cookiesAccepted = localStorage.getItem('cookiesAccepted');\n    if (!cookiesAccepted) {\n        setTimeout(() => {\n            cookiePopup.classList.add('active');\n        }, 2000);\n    }\n};\n\nacceptCookiesBtn.addEventListener('click', () => {\n    localStorage.setItem('cookiesAccepted', 'true');\n    cookiePopup.classList.remove('active');\n});\n\n// --- КОРРЕКТИРОВКА ОБРАБОТКИ ФОРМЫ (обновите существующий слушатель submit) ---\nmainForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    if (parseInt(captchaAnswerInput.value) !== correctCaptchaAnswer) {\n        alert('Неверный ответ на проверочный вопрос.');\n        generateCaptcha();\n        return;\n    }\n\n    mainForm.classList.add('loading');\n\n    setTimeout(() => {\n        mainForm.classList.remove('loading');\n        mainForm.style.display = 'none'; // Скрываем форму\n        formSuccess.classList.add('active'); // Показываем успех (теперь он в потоке)\n\n        // Скроллим к началу блока успеха, если мобилка\n        formSuccess.scrollIntoView({ behavior: 'smooth', block: 'center' });\n        lucide.createIcons();\n    }, 1500);\n});\n\n// Вызов инициализации куки\nwindow.addEventListener('load', initCookies);\n});"],"names":["burger","nav","navLinks","toggleMenu","link","header","observeElements","observerOptions","observer","entries","entry","el","hero","e","moveX","moveY","mainForm","formSuccess","phoneInput","captchaQuestion","captchaAnswerInput","correctCaptchaAnswer","generateCaptcha","num1","num2","cookiePopup","acceptCookiesBtn","initCookies"],"mappings":"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"}